set -g @plugin 'tmux-plugins/tmux-prefix-highlight'
set -g @plugin 'tmux-plugins/tmux-copycat'`
set -g @plugin 'laktak/extrakto'

set -sg escape-time 0

set -g base-index 1

set status-interval 1
 
# remap prefix to Control + a
# set -g prefix C-a
# bind 'C-a C-a' to type 'C-a'
unbind C-b
set -g prefix \\
bind \\ send-prefix

# rebind pane splitting to use current dir
bind H split-window -c "#{pane_current_path}"
bind v split-window -h -c "#{pane_current_path}"
bind c new-window -c "#{pane_current_path}"
bind t split-window -p 20 -h -c "#{pane_current_path}" "npm run watch:tests"

bind-key -r j resize-pane -D 5
bind-key -r k resize-pane -U 5
bind-key -r l resize-pane -R 5
bind-key -r h resize-pane -L 5
bind-key -T copy-mode-vi 'v' send -X begin-selection
bind-key -T copy-mode-vi 'y' send -X copy-selection
unbind -T copy-mode-vi MouseDragEnd1Pane
bind-key f copy-mode
bind-key / copy-mode \; send-key ?

# Proper colors
set-option -sa terminal-features ',alacritty:RGB' # Makes sure that colors in tmux are the same as without tmux

set -g default-terminal "alacritty"

# Undercurl
set-option -ga terminal-features ",alacritty:usstyle"

# enable mouse mode
set-option -g mouse on
set -g mouse on

# force a reload of the config file
unbind r
bind r source-file ~/.tmux.conf

# quick pane cycling
unbind i
bind i select-pane -t :.+

# dont rename windows
set-option -g status-position bottom

# use vi keys in buffer
setw -g mode-keys vi


# panes
set -g pane-border-style fg=colour238
set -g pane-active-border-style fg=colour238

# toggle statusbar
bind-key b set-option status

# Theme

# status line
# set -g status-justify left
# set -g status-bg default
# set -g status-fg default
# set -g status-interval 2

# messaging
set -g message-style fg=black,bg=yellow
set -g message-command-style fg=blue,bg=black
set -g automatic-rename on

set -g history-limit 30000

# window mode
setw -g mode-style bg=default,fg=default,reverse

# colors
setw -g window-status-format "#[fg=colour15]  #W  "
setw -g window-status-current-format "#[fg=colour10]  #W ğŸ”«  "
# setw -g window-status-current-style dim
# set -g status-justify centre
set -g status-left " #S"
set -g status-right ""
set -g status-style "bg=default"
set -g status-left-length 40

set -g set-titles on
set -g set-titles-string "ğŸ™ #{USER}@#H -- #T"

unbind h
bind h split-window -p 20 -c "#{pane_current_path}"

run -b '~/.tmux/plugins/tpm/tpm'
